{% extends 'base.html.twig' %}

{% block title %}Projects{% endblock %}


{% block pageHeaderTitle %}
    <h4>My Projects Page</h4>
    <span>sub text here</span>
{% endblock %}



{% block body %}
    <div class="col-lg-12">
        <!-- Default card start -->
        <div class="card">
            <div class="card-block">
                <button class="btn btn-outline-primary" data-toggle="modal" data-target="#large-Modal">Create Project
                </button>
                <button class="btn btn-outline-warning">Edit Project</button>
                <button class="btn btn-outline-success" data-toggle="modal" data-target="#create-Modal">Import Project
                </button>
            </div>
        </div>
        <!--Create project-->
        <!-- Modal large-->
        <!-- Modal -->
        <div class="modal fade" id="large-Modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Import project</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>

                    {{ form_start(projectForm) }}
                    <div class="modal-body">

                        <div class="form-group row">
                            {{ form_label(projectForm.name, 'Project s name',{'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
                            <div class="col-sm-10">
                                {{ form_widget(projectForm.name, { 'attr': {'class': 'form-control', 'placeholder': 'Enter Name'|trans } }) }}
                                {{ form_errors(projectForm.name) }}
                                <span class="messages"></span>
                            </div>
                        </div>

                        <div class="form-group row">
                            {{ form_label(projectForm.status, 'Project s status',{'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
                            <div class="col-sm-10">
                                {{ form_widget(projectForm.status, { 'attr': {'class': 'form-control form-control-primary' } }) }}
                                <span class="messages"></span>
                            </div>
                        </div>

                        <div class="form-group row">
                            {{ form_label(projectForm.description, 'Project Description',{'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
                            <div class="col-sm-10">
                                {{ form_widget(projectForm.description, { 'attr': {'class': 'form-control', 'placeholder': 'Description'|trans } }) }}
                                {{ form_errors(projectForm.description) }}
                                <span class="messages"></span>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary waves-effect ">Create !</button>
                    </div>
                    {{ form_end(projectForm) }}
                </div>
            </div>
        </div>
        <!--end import project-->
        <!--Create Project-->

        <!--end create project-->
        <div class="card">
            <div class="card-block">
                <div class="col-lg-12">
                    <div class="card table-card">
                        <div class="card-header">
                            <h5>Projects </h5>
                            <div class="card-header-right">
                                <ul class="list-unstyled card-option">
                                    <li><i class="fa fa fa-wrench open-card-option"></i></li>
                                    <li><i class="fa fa-window-maximize full-card"></i></li>
                                    <li><i class="fa fa-minus minimize-card"></i></li>
                                    <li><i class="fa fa-refresh reload-card"></i></li>
                                    <li><i class="fa fa-trash close-card"></i></li>
                                </ul>
                            </div>
                        </div>
                        <div class="card-block">
                            <div class="table-responsive">
                                <table class="table table-hover table-borderless">
                                    <thead>
                                        <th>Status</th>
                                        <th>Project name</th>
                                        <th>Description</th>
                                        <th>Date</th>
                                        <th>Report</th>



                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for project in projects %}
                                        <tr>
                                            <td>{{ project.status }}</td>
                                            <td>{{ project.name }}</td>
                                            <td>{{ project.description }}</td>
                                            <td>{{ project.Date_created |date("Y/m/d")}}</td>
                                            <td><a href="{{  path ('dashboardproject',{ 'id': project.id })}}"><button class="btn btn-outline-primary">Generate Dashboard</button></a></td>
                                        </tr>
                                    {% endfor %}

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Default card end -->
    </div>
{% endblock %}
{% block javascripts %}

{% endblock %}